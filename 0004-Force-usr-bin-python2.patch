From f8795423f211fb43dbf533fba376c90e424580fe Mon Sep 17 00:00:00 2001
From: George T Kramer <george.t.kramer@intel.com>
Date: Sat, 24 Feb 2018 22:56:10 -0800
Subject: [PATCH] Force /usr/bin/python2

---
 builder/kojid                      | 2 +-
 builder/mergerepos                 | 2 +-
 cli/Makefile                       | 2 +-
 cli/koji                           | 2 +-
 cli/koji_cli/Makefile              | 2 +-
 devtools/fakehub                   | 2 +-
 devtools/fakeweb                   | 2 +-
 docs/source/image_build.rst        | 2 +-
 hub/Makefile                       | 2 +-
 hub/rpmdiff                        | 2 +-
 koji/Makefile                      | 2 +-
 koji/context.py                    | 2 +-
 koji/ssl/Makefile                  | 2 +-
 plugins/Makefile                   | 4 ++--
 runtests                           | 2 +-
 tests/test_lib/test_fixEncoding.py | 2 +-
 tests/test_lib/test_parsers.py     | 2 +-
 util/koji-gc                       | 2 +-
 util/koji-shadow                   | 2 +-
 util/kojira                        | 2 +-
 vm/kojikamid.py                    | 2 +-
 vm/kojivmd                         | 2 +-
 www/lib/kojiweb/Makefile           | 2 +-
 23 files changed, 24 insertions(+), 24 deletions(-)

diff --git a/builder/kojid b/builder/kojid
index a68353f..18d9f04 100755
--- a/builder/kojid
+++ b/builder/kojid
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 
 # Koji build daemon
 # Copyright (c) 2005-2014 Red Hat, Inc.
diff --git a/builder/mergerepos b/builder/mergerepos
index 714856b..bb3ee6d 100755
--- a/builder/mergerepos
+++ b/builder/mergerepos
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
diff --git a/cli/Makefile b/cli/Makefile
index c9112f3..b96101b 100644
--- a/cli/Makefile
+++ b/cli/Makefile
@@ -1,6 +1,6 @@
 SUBDIRS=koji_cli
 
-PYTHON=python
+PYTHON=python2
 PACKAGE = $(shell basename `pwd`)
 PYVER := $(shell $(PYTHON) -c 'import sys; print("%.3s" %(sys.version))')
 PYSYSDIR := $(shell $(PYTHON) -c 'import sys; print(sys.prefix)')
diff --git a/cli/koji b/cli/koji
index ab4cdc5..8f19a7a 100755
--- a/cli/koji
+++ b/cli/koji
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 # coding=utf-8
 
 # command line interface for the Koji build system
diff --git a/cli/koji_cli/Makefile b/cli/koji_cli/Makefile
index 42dcdcf..1fba875 100644
--- a/cli/koji_cli/Makefile
+++ b/cli/koji_cli/Makefile
@@ -1,6 +1,6 @@
 PYFILES = $(wildcard *.py)
 
-PYTHON=python
+PYTHON=python2
 PACKAGE = $(shell basename `pwd`)
 PYVER := $(shell $(PYTHON) -c 'import sys; print("%.3s" % (sys.version))')
 PYSYSDIR := $(shell $(PYTHON) -c 'import sys; print(sys.prefix)')
diff --git a/devtools/fakehub b/devtools/fakehub
index ccb5f73..3b21dfa 100755
--- a/devtools/fakehub
+++ b/devtools/fakehub
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 
 from __future__ import absolute_import
 from __future__ import print_function
diff --git a/devtools/fakeweb b/devtools/fakeweb
index 735a97b..469c693 100755
--- a/devtools/fakeweb
+++ b/devtools/fakeweb
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 
 from __future__ import absolute_import
 from __future__ import print_function
diff --git a/docs/source/image_build.rst b/docs/source/image_build.rst
index b2bb0dc..4b86e7e 100644
--- a/docs/source/image_build.rst
+++ b/docs/source/image_build.rst
@@ -686,7 +686,7 @@ section instead.
 
 ::
 
-    #!/usr/bin/python -tt
+    #!/usr/bin/python2 -tt
 
     import logging
     import os.path
diff --git a/hub/Makefile b/hub/Makefile
index 72b475f..a9f7719 100644
--- a/hub/Makefile
+++ b/hub/Makefile
@@ -1,4 +1,4 @@
-PYTHON=python
+PYTHON=python2
 PACKAGE = $(shell basename `pwd`)
 LIBEXECFILES = rpmdiff
 PYFILES = $(wildcard *.py)
diff --git a/hub/rpmdiff b/hub/rpmdiff
index 7ef9562..20be660 100755
--- a/hub/rpmdiff
+++ b/hub/rpmdiff
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 #
 # Copyright (C) 2006 Mandriva; 2009-2014 Red Hat, Inc.
 # Authors: Frederic Lepied, Florian Festi
diff --git a/koji/Makefile b/koji/Makefile
index d51de8d..0d3a0d6 100644
--- a/koji/Makefile
+++ b/koji/Makefile
@@ -1,4 +1,4 @@
-PYTHON=python
+PYTHON=python2
 PACKAGE = $(shell basename `pwd`)
 ifeq ($(PYTHON), python3)
     # for python3 we fully support only basic library + CLI
diff --git a/koji/context.py b/koji/context.py
index 56a79f7..811c6c1 100755
--- a/koji/context.py
+++ b/koji/context.py
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 # Copyright (c) 2005-2014 Red Hat, Inc.
 #
 #    Koji is free software; you can redistribute it and/or
diff --git a/koji/ssl/Makefile b/koji/ssl/Makefile
index f643700..359c0c0 100644
--- a/koji/ssl/Makefile
+++ b/koji/ssl/Makefile
@@ -1,6 +1,6 @@
 FILES = $(wildcard *.py)
 
-PYTHON=python
+PYTHON=python2
 
 _default:
 	@echo "nothing to make.  try make install"
diff --git a/plugins/Makefile b/plugins/Makefile
index cddab66..7e927b1 100644
--- a/plugins/Makefile
+++ b/plugins/Makefile
@@ -1,4 +1,4 @@
-PYTHON=python
+PYTHON=python2
 PYVER := $(shell $(PYTHON) -c 'import sys; print("%.3s" %(sys.version))')
 PYSYSDIR := $(shell $(PYTHON) -c 'import sys; print(sys.prefix)')
 PYLIBDIR = $(PYSYSDIR)/lib/python$(PYVER)
@@ -29,7 +29,7 @@ install:
 		echo "ERROR: A destdir is required"; \
 		exit 1; \
 	fi
-	if [ "$(PYTHON)" == "python" ] ; then \
+	if [ "$(PYTHON)" == "python2" ] ; then \
 		mkdir -p $(DESTDIR)/$(HUBPLUGINDIR); \
 		mkdir -p $(DESTDIR)/$(BUILDERPLUGINDIR); \
 		install -p -m 644 $(HUBFILES) $(DESTDIR)/$(HUBPLUGINDIR); \
diff --git a/runtests b/runtests
index 8d0adf9..0bd8816 100755
--- a/runtests
+++ b/runtests
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 
 from multiprocessing import Pool
 import subprocess
diff --git a/tests/test_lib/test_fixEncoding.py b/tests/test_lib/test_fixEncoding.py
index 2f7ca8f..267f53d 100644
--- a/tests/test_lib/test_fixEncoding.py
+++ b/tests/test_lib/test_fixEncoding.py
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 # coding=utf-8
 
 """Test the __init__.py module"""
diff --git a/tests/test_lib/test_parsers.py b/tests/test_lib/test_parsers.py
index d8f8760..fc3b164 100644
--- a/tests/test_lib/test_parsers.py
+++ b/tests/test_lib/test_parsers.py
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 
 """Test the __init__.py module"""
 
diff --git a/util/koji-gc b/util/koji-gc
index 9c20cdb..1b407e2 100755
--- a/util/koji-gc
+++ b/util/koji-gc
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 
 # koji-gc: a garbage collection tool for Koji
 # Copyright (c) 2007-2014 Red Hat, Inc.
diff --git a/util/koji-shadow b/util/koji-shadow
index 12f9997..e23c5c6 100755
--- a/util/koji-shadow
+++ b/util/koji-shadow
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 
 # koji-shadow: a tool to shadow builds between koji instances
 # Copyright (c) 2007-2016 Red Hat, Inc.
diff --git a/util/kojira b/util/kojira
index ba8d6fd..ee222ae 100755
--- a/util/kojira
+++ b/util/kojira
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 
 # Koji Repository Administrator (kojira)
 # Copyright (c) 2005-2014 Red Hat, Inc.
diff --git a/vm/kojikamid.py b/vm/kojikamid.py
index 1d40e68..271dcaa 100755
--- a/vm/kojikamid.py
+++ b/vm/kojikamid.py
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 
 # Koji daemon that runs in a Windows VM and executes commands associated
 # with a task.
diff --git a/vm/kojivmd b/vm/kojivmd
index bc92f0f..2ed3d54 100755
--- a/vm/kojivmd
+++ b/vm/kojivmd
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python2
 
 # Koji virtual machine management daemon
 # Copyright (c) 2010-2014 Red Hat, Inc.
diff --git a/www/lib/kojiweb/Makefile b/www/lib/kojiweb/Makefile
index 85eb559..6a7c318 100644
--- a/www/lib/kojiweb/Makefile
+++ b/www/lib/kojiweb/Makefile
@@ -1,4 +1,4 @@
-PYTHON=python
+PYTHON=python2
 PACKAGE = $(shell basename `pwd`)
 PYFILES = $(wildcard *.py)
 PYVER := $(shell $(PYTHON) -c 'import sys; print("%.3s" % (sys.version))')
-- 
2.16.1

