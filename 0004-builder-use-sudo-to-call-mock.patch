From ea2d0488b9f6e1c4cee2b749c6fbb947ff101394 Mon Sep 17 00:00:00 2001
From: Caio Marcelo de Oliveira Filho <caio.oliveira@intel.com>
Date: Tue, 17 Oct 2017 13:58:40 -0700
Subject: [PATCH 4/9] builder: use sudo to call mock

In Clear Linux we use sudo (instead of consolehelper) to let mock have
the right permissions.
---
 builder/kojid | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/builder/kojid b/builder/kojid
index eef8477..d857fa3 100755
--- a/builder/kojid
+++ b/builder/kojid
@@ -405,6 +405,10 @@ class BuildRoot(object):
             else:
                 cmd.append('--old-chroot')
         cmd.extend(args)
+
+        # In Clear Linux we call mock using sudo.
+        cmd.insert(0, "/usr/bin/sudo")
+
         self.logger.info(' '.join(cmd))
         workdir = getattr(self, 'workdir', None)
         mocklog = 'mock_output.log'
-- 
2.24.0

