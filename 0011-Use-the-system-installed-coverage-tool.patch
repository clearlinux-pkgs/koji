From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Patrick McCarty <patrick.mccarty@intel.com>
Date: Wed, 25 Aug 2021 18:24:36 -0700
Subject: [PATCH] Use the system-installed coverage tool

Signed-off-by: Patrick McCarty <patrick.mccarty@intel.com>
---
 tox.ini | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/tox.ini b/tox.ini
index 934d334..8ae1813 100644
--- a/tox.ini
+++ b/tox.ini
@@ -29,19 +29,19 @@ setenv =
 # entry point, let's make sure it's installed in the virtualenv.
 commands_pre =
     {envbindir}/python -c "import rpm"
-    pip install -I coverage
 
 [testenv:py3]
 setenv = 
     {[testenv]setenv}
     PYTHONPATH=hub/.:plugins/hub/.:plugins/builder/.:plugins/cli/.:cli/.:www/lib
+allowlist_externals = coverage3
 commands_pre =
     {[testenv]commands_pre}
-    {envbindir}/coverage3 erase --rcfile .coveragerc3
+    coverage3 erase --rcfile .coveragerc3
 commands = 
-    {envbindir}/coverage3 run --rcfile .coveragerc3 --source . -m nose {posargs}
-    {envbindir}/coverage3 report --rcfile .coveragerc3
-    {envbindir}/coverage3 html -d {toxinidir}/htmlcov/py3 --rcfile .coveragerc3
+    coverage3 run --rcfile .coveragerc3 --source . -m nose {posargs}
+    coverage3 report --rcfile .coveragerc3
+    coverage3 html -d {toxinidir}/htmlcov/py3 --rcfile .coveragerc3
 
 [testenv:py2]
 setenv = 
